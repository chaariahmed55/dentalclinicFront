<h2>Name/Prename: {{ patient.nom+" "+patient.prenom }}</h2>

<div>
    <ul class="fa-pull-right">
        <!-- Button trigger modal -->
        <button type="button" class="btn btn-primary btn-pill btn-shadow" data-toggle="modal"
            data-target="#exampleModal">
            Add <i class="icon-plus mr-2">
            </i></button>
    </ul>
    <!-- <ul><button (click)="generatepdf()"> generate pdf </button></ul> -->
    <ul class="fa-pull-left">
        <div class="input-group">
            <div class="form-outline">
              <input id="search-focus" type="search" id="form1" class="form-control" placeholder="Search" [(ngModel)]=" champrecherche "/>
            </div>
            <button type="button" class="btn btn-primary" (click)="recherchefiche(champrecherche)">
              <i class="fas fa-search"></i>
            </button>
          </div>
    </ul>
    <!-- <ul>
    <form>
        <div class="input-group">
          <input type="text" class="form-control" placeholder="recherche angular"  [(ngModel)]="valuesearch" >
        </div>
      </form>
    </ul> -->

</div>
<table id='tableauu' class="table table-dark table-hover">
    <tr>
        <th>#</th>
        <th>date</th>
        <th>description</th>
        <th>Actions</th>
    </tr>
    <tr *ngFor="let f of fiches">
        <td>{{ fiches.indexOf(f)+1 }}</td>
        <td>{{ f.date }}</td>
        <td>{{ f.description }}</td>
        <td><button type="button" style="background-color: grey;" class="btn btn-primary" data-toggle="modal" data-target="#Modalshow"
            (click)="show(f)">show</button></td>
        <td><button style="background-color: green;" type="button" class="btn btn-primary" data-toggle="modal" data-target="#Modalupdate"
            (click)="show(f)" >modifier</button></td>
    </tr>
</table>
<!-----------------------------------------------------------------------pagination--------------------------------------------------------------->

<nav>
    <ul class="pagination">
        <button class="btn btn-success" style="width:100px;" [disabled]="pageactuelle==0"  (click)="previous()" >Previous</button>
        <button class="btn btn-light" style="width:100px;" disabled >{{ pageactuelle }}</button>
        <button class="btn btn-success" style="width:100px;"  [disabled]="pageactuelle==maxpage" (click)="next()">  Next  </button>
    </ul>
  </nav>

<br><br>
<!----------------------------------------------------------modal add--------------------------------------------------->

<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
    aria-hidden="true">
    <div class="modal-dialog" role="document" style="width:1360px">
        <div class="modal-content" style="width:100%" style="width:800px;">
            <div class="modal-header">
                <button type="button" class="close" #closebutton data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <table style="width:100%;">
                <tr>
                    <td
                        style="border: 2px solid rgb(0, 183, 255) ;background-color: white;column-width: 200px;text-align: center">
                        <h5>Name :</h5>
                    </td>
                    <td
                        style="border: 2px solid rgb(0, 183, 255) ;background-color: white;column-width: 200px;text-align: center;">
                        {{ patient.nom}}</td>
                    <td
                        style="border: 2px solid rgb(0, 183, 255) ;background-color: white;column-width: 200px;text-align: center;">
                        <h5>Prename :</h5>
                    </td>
                    <td
                        style="border: 2px solid rgb(0, 183, 255) ;background-color: white;column-width: 200px;text-align: center;">
                        {{ patient.prenom }}</td>
                </tr>
                <tr>
                    <td
                        style="border: 2px solid rgb(0, 183, 255) ;background-color: white;column-width: 200px;text-align: center;">
                        <h5>Birthdate :</h5>
                    </td>
                    <td
                        style="border: 2px solid rgb(0, 183, 255) ;background-color: white;column-width: 200px;text-align: center;">
                        {{ patient.birthdate }}</td>
                    <td
                        style="border: 2px solid rgb(0, 183, 255) ;background-color: white;column-width: 200px;text-align: center;">
                        <h5>Adresse :</h5>
                    </td>
                    <td
                        style="border: 2px solid rgb(0, 183, 255) ;background-color: white;column-width: 200px;text-align: center;">
                        {{ patient.adresse }}</td>
                </tr>
                <tr>
                    <td
                        style="border: 2px solid rgb(0, 183, 255) ;background-color: white;column-width: 200px;text-align: center;">
                        <h5>Telephone :</h5>
                    </td>
                    <td
                        style="border: 2px solid rgb(0, 183, 255) ;background-color: white;column-width: 200px;text-align: center;">
                        {{ patient.telephone }}</td>
                    <td
                        style="border: 2px solid rgb(0, 183, 255) ;background-color: white;column-width: 200px;text-align: center;">
                        <h5>Email :</h5>
                    </td>
                    <td
                        style="border: 2px solid rgb(0, 183, 255) ;background-color: white;column-width: 200px;text-align: center;">
                        {{ patient.email }}</td>
                </tr>
            </table>
            <form #Registrationform="ngForm" (ngSubmit)="ajoutfiche()">
                <table>
                    <tr>
                        <td
                            style="border: 2px solid rgb(0, 183, 255) ;background-color: white;column-width: 800px;text-align: center;">
                            <h5>
                                Description
                            </h5>
                            <textarea style="height:200px;width:100%;" type="text" name="description"
                                placeholder="............." id="description"
                                [(ngModel)]=" fiche.description "></textarea>
                        </td>
                    </tr>
                </table>

                <table style="width:100%">
                    <tr>
                        <td
                            style="border: 2px solid rgb(0, 183, 255) ;background-color: white;text-align: center;width:50%">

                            <h5>
                                Intervention
                            </h5>
                            <br>
                            <div>
                                <label>type de l'intervention </label>
                                <br>
                                <textarea type="text" name="type" id="type" placeholder="..........."
                                    style="width:100%;height:200px;" [(ngModel)]=" intervention.type "></textarea>
                            </div>
                            <br>
                            <div>
                                <label>prix </label>
                                <br>
                                <input type="number" name="prix" id="prix" style="width:50%;"
                                    [(ngModel)]=" intervention.prix ">
                            </div>
                            <br><br><br><br><br><br><br>
                        </td>

                        <td
                            style="border: 2px solid rgb(0, 183, 255) ;background-color: white;column-width: 400px;width:50%;text-align: center;">
                            <h5>
                                Medicament
                            </h5>
                            <br>
                            <div>
                                <label>Nom du medicament</label>
                                <br>
                                <textarea type="text" name="nom" id="nom" placeholder=".........."
                                    style="width:100%;height:200px;" [(ngModel)]=" medicament.nom"></textarea>
                            </div>
                            <br>
                            <div>
                                <label>Dure de prise du medicament</label>
                                <br>
                                <input type="number" name="dure" id="dure" style="width:50%;"
                                    [(ngModel)]=" medicament.dure ">
                            </div>
                            <br>
                            <div>
                                <label>Quantite par jour</label>
                                <br>
                                <input type="number" name="quantiteparjour" style="width:50%;" id="quantiteparjour"
                                    [(ngModel)]=" medicament.quantiteparjour ">
                            </div>
                            <br>
                            <div>
                                <label>Quantite par dose</label>
                                <br>
                                <input type="number" name="quantitepardose" style="width:50%;" id="quantitepardose"
                                    [(ngModel)]=" medicament.quantitepardose ">
                            </div>

                        </td>
                    </tr>
                </table>
                <button type="submit" class="btn btn-primary" style="width:100%;">Save</button>
                <!-- <button class="btn btn-primary" style="width:100%;" (click)="ajoutfiche1()">Save</button> -->
            </form>
        </div>
    </div>
</div>

<!-------------------------------------------------------modal show-------------------------------------------------------------------->
<div class="modal fade" id="Modalshow" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
    aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content" style="width:100%" style="width:800px;">
        <div class="modal-header">
            <button type="button" class="close" #closebutton data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">×</span>
            </button>
        </div>
        <table style="width:100%;">
            <tr>
                <td
                    style="border: 2px solid rgb(0, 183, 255) ;background-color: white;column-width: 200px;text-align: center">
                    <h5>Name :</h5>
                </td>
                <td
                    style="border: 2px solid rgb(0, 183, 255) ;background-color: white;column-width: 200px;text-align: center;">
                    {{ patient.nom}}</td>
                <td
                    style="border: 2px solid rgb(0, 183, 255) ;background-color: white;column-width: 200px;text-align: center;">
                    <h5>Prename :</h5>
                </td>
                <td
                    style="border: 2px solid rgb(0, 183, 255) ;background-color: white;column-width: 200px;text-align: center;">
                    {{ patient.prenom }}</td>
            </tr>
            <tr>
                <td
                    style="border: 2px solid rgb(0, 183, 255) ;background-color: white;column-width: 200px;text-align: center;">
                    <h5>Birthdate :</h5>
                </td>
                <td
                    style="border: 2px solid rgb(0, 183, 255) ;background-color: white;column-width: 200px;text-align: center;">
                    {{ patient.birthdate }}</td>
                <td
                    style="border: 2px solid rgb(0, 183, 255) ;background-color: white;column-width: 200px;text-align: center;">
                    <h5>Adresse :</h5>
                </td>
                <td
                    style="border: 2px solid rgb(0, 183, 255) ;background-color: white;column-width: 200px;text-align: center;">
                    {{ patient.adresse }}</td>
            </tr>
            <tr>
                <td
                    style="border: 2px solid rgb(0, 183, 255) ;background-color: white;column-width: 200px;text-align: center;">
                    <h5>Telephone :</h5>
                </td>
                <td
                    style="border: 2px solid rgb(0, 183, 255) ;background-color: white;column-width: 200px;text-align: center;">
                    {{ patient.telephone }}</td>
                <td
                    style="border: 2px solid rgb(0, 183, 255) ;background-color: white;column-width: 200px;text-align: center;">
                    <h5>Email :</h5>
                </td>
                <td
                    style="border: 2px solid rgb(0, 183, 255) ;background-color: white;column-width: 200px;text-align: center;">
                    {{ patient.email }}</td>
            </tr>
        </table>
            <table>
                <tr>
                    <td
                        style="border: 2px solid rgb(0, 183, 255) ;background-color: white;column-width: 800px;text-align: center;">
                        <h5>
                            Description
                        </h5>
                        <textarea disabled style="height:200px;width:100%;" type="text" name="description"
                         id="description1" [(ngModel)]=" ficheshow.description "></textarea>
                    </td>
                </tr>
            </table>

            <table style="width:100%">
                <tr>
                    <td
                        style="border: 2px solid rgb(0, 183, 255) ;background-color: white;text-align: center;width:50%">

                        <h5>
                            Intervention
                        </h5>
                        <br>
                        <div>
                            <label>type de l'intervention </label>
                            <br>
                            <textarea disabled type="text" name="type" id="type1" 
                                disabledstyle="width:100%;height:200px;" [(ngModel)]=" interventionshow.type "></textarea>
                        </div>
                        <br>
                        <div>
                            <label>prix </label>
                            <br>
                            <input disabled type="number" name="prix" id="prix1" style="width:50%;"
                                [(ngModel)]=" interventionshow.prix ">
                        </div>
                        <br><br><br><br><br><br><br>
                    </td>

                    <td
                        style="border: 2px solid rgb(0, 183, 255) ;background-color: white;column-width: 400px;width:50%;text-align: center;">
                        <h5>
                            Medicament
                        </h5>
                        <br>
                        <div>
                            <label>Nom du medicament</label>
                            <br>
                            <textarea disabled type="text" name="nom" id="nom1" 
                                style="width:100%;height:200px;" [(ngModel)]=" medicamentshow.nom"></textarea>
                        </div>
                        <br>
                        <div>
                            <label>Dure de prise du medicament</label>
                            <br>
                            <input disabled type="number" name="dure" id="dure1" style="width:50%;"
                                [(ngModel)]=" medicamentshow.dure ">
                        </div>
                        <br>
                        <div>
                            <label>Quantite par jour</label>
                            <br>
                            <input disabled type="number" name="quantiteparjour" style="width:50%;" id="quantiteparjour1"
                                [(ngModel)]=" medicamentshow.quantiteparjour ">
                        </div>
                        <br>
                        <div>
                            <label>Quantite par dose</label>
                            <br>
                            <input disabled type="number" name="quantitepardose" style="width:50%;" id="quantitepardose1"
                                [(ngModel)]=" medicamentshow.quantitepardose ">
                        </div>

                    </td>
                </tr>
            </table>
    </div>
</div>
</div>
<!-------------------------------------------------------modal edit-------------------------------------------------------------------->
<div class="modal fade" id="Modalupdate" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
    aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content" style="width:100%" style="width:800px;">
        <div class="modal-header">
            <button type="button" class="close" #closebutton data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">×</span>
            </button>
        </div>
        <table style="width:100%;">
            <tr>
                <td
                    style="border: 2px solid rgb(0, 183, 255) ;background-color: white;column-width: 200px;text-align: center">
                    <h5>Name :</h5>
                </td>
                <td
                    style="border: 2px solid rgb(0, 183, 255) ;background-color: white;column-width: 200px;text-align: center;">
                    {{ patient.nom}}</td>
                <td
                    style="border: 2px solid rgb(0, 183, 255) ;background-color: white;column-width: 200px;text-align: center;">
                    <h5>Prename :</h5>
                </td>
                <td
                    style="border: 2px solid rgb(0, 183, 255) ;background-color: white;column-width: 200px;text-align: center;">
                    {{ patient.prenom }}</td>
            </tr>
            <tr>
                <td
                    style="border: 2px solid rgb(0, 183, 255) ;background-color: white;column-width: 200px;text-align: center;">
                    <h5>Birthdate :</h5>
                </td>
                <td
                    style="border: 2px solid rgb(0, 183, 255) ;background-color: white;column-width: 200px;text-align: center;">
                    {{ patient.birthdate }}</td>
                <td
                    style="border: 2px solid rgb(0, 183, 255) ;background-color: white;column-width: 200px;text-align: center;">
                    <h5>Adresse :</h5>
                </td>
                <td
                    style="border: 2px solid rgb(0, 183, 255) ;background-color: white;column-width: 200px;text-align: center;">
                    {{ patient.adresse }}</td>
            </tr>
            <tr>
                <td
                    style="border: 2px solid rgb(0, 183, 255) ;background-color: white;column-width: 200px;text-align: center;">
                    <h5>Telephone :</h5>
                </td>
                <td
                    style="border: 2px solid rgb(0, 183, 255) ;background-color: white;column-width: 200px;text-align: center;">
                    {{ patient.telephone }}</td>
                <td
                    style="border: 2px solid rgb(0, 183, 255) ;background-color: white;column-width: 200px;text-align: center;">
                    <h5>Email :</h5>
                </td>
                <td
                    style="border: 2px solid rgb(0, 183, 255) ;background-color: white;column-width: 200px;text-align: center;">
                    {{ patient.email }}</td>
            </tr>
        </table>
        <form #Registrationform="ngForm" (ngSubmit)="ajoutfiche()">
            <table>
                <tr>
                    <td
                        style="border: 2px solid rgb(0, 183, 255) ;background-color: white;column-width: 800px;text-align: center;">
                        <h5>
                            Description
                        </h5>
                        <textarea style="height:200px;width:100%;" type="text" name="description" 
                         id="description1" [(ngModel)]=" ficheshow.description "></textarea>
                    </td>
                </tr>
            </table>

            <table style="width:100%">
                <tr>
                    <td
                        style="border: 2px solid rgb(0, 183, 255) ;background-color: white;text-align: center;width:50%">

                        <h5>
                            Intervention
                        </h5>
                        <br>
                        <div>
                            <label>type de l'intervention </label>
                            <br>
                            <textarea type="text" name="type" id="type1" 
                                disabledstyle="width:100%;height:200px;" [(ngModel)]=" interventionshow.type "></textarea>
                        </div>
                        <br>
                        <div>
                            <label>prix </label>
                            <br>
                            <input type="number" name="prix" id="prix1" style="width:50%;"
                                [(ngModel)]=" interventionshow.prix ">
                        </div>
                        <br><br><br><br><br><br><br>
                    </td>

                    <td
                        style="border: 2px solid rgb(0, 183, 255) ;background-color: white;column-width: 400px;width:50%;text-align: center;">
                        <h5>
                            Medicament
                        </h5>
                        <br>
                        <div>
                            <label>Nom du medicament</label>
                            <br>
                            <textarea type="text" name="nom" id="nom1" 
                                style="width:100%;height:200px;" [(ngModel)]=" medicamentshow.nom"></textarea>
                        </div>
                        <br>
                        <div>
                            <label>Dure de prise du medicament</label>
                            <br>
                            <input type="number" name="dure" id="dure1" style="width:50%;"
                                [(ngModel)]=" medicamentshow.dure ">
                        </div>
                        <br>
                        <div>
                            <label>Quantite par jour</label>
                            <br>
                            <input type="number" name="quantiteparjour" style="width:50%;" id="quantiteparjour1"
                                [(ngModel)]=" medicamentshow.quantiteparjour ">
                        </div>
                        <br>
                        <div>
                            <label>Quantite par dose</label>
                            <br>
                            <input  type="number" name="quantitepardose" style="width:50%;" id="quantitepardose1"
                                [(ngModel)]=" medicamentshow.quantitepardose ">
                        </div>

                    </td>
                </tr>
            </table>
            <button type="submit" class="btn btn-primary" style="width:100%;" (click)="updatechanges()">Save changes</button>
        </form>
    </div>
</div>
</div>


<!----------------------------------------------------ordonnance--------------------------------------------------------------------->
<br><br><br><br><br><br><br><br><br><br><br>
<!-- <div style="visibility: hidden;"> -->
<div id="ordonnance" >
<!-- <div id="ordonnance" > -->
    <table style="width: 100%;">
        <tr>
            <td style="width: 10%;"></td>
            <td style="width: 40%;"> 
            <div>
                <h5>Docteur chaari ameni</h5>
                <a href="#">Medecin Dentiste</a><br>
                <a href="#">Diplome de la faculte de medecine dentaire de monastir</a>
            </div>
            </td>
            <td style="width: 10%;"></td>
            <td style="width: 40%;">
            <div>
                <a href="#">276 rue de l'independance el mourouj 3</a>
                <h5> Tel cabinet: 23436459 </h5>
            </div>
            </td>
        </tr>
    </table>
    <table style="width: 100%;">
        <tr>
            <td style="width: 60%;height:100px;"></td>
            <td style="width: 40%;height:100px;">Marseille,le 4 fevrier 2020</td>
        </tr>
    </table>
    <table style="width: 100%;">
        <tr>
            <td style="width: 10%;height:100px;"></td>
            <td style="width: 60%;height:100px;">Mr/Mme {{ patient.nom }}  {{patient.prenom}}</td>
            <td style="width: 30%;height:100px;"></td>
        </tr>
    </table>
    <table style="width: 100%;">
        <tr>
            <td style="width: 10%;;height:100px;"></td>
            <td style="width: 60%;;height:100px;">{{ medicament.nom }}</td>
            <td style="width: 30%;;height:100px;"> {{ medicament.quantitepardose }} dose {{medicament.quantiteparjour }} pendant {{medicament.dure}}</td>
        </tr>
    </table>
    <table style="width: 100%;">
        <tr>
            <td style="width: 60%;;height:100px;"></td>
            <td style="width: 40%;;height:100px;">signature docteur</td>
        </tr>
    </table>
</div>